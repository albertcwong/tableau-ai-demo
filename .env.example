# Database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/tableau_demo

# Redis (Token Cache)
REDIS_URL=redis://localhost:6379/0
REDIS_TOKEN_TTL=3600

# Tableau
TABLEAU_SERVER_URL=https://your-tableau-server.com
TABLEAU_SITE_ID=your-site-id
TABLEAU_CLIENT_ID=your-connected-app-client-id
TABLEAU_CLIENT_SECRET=your-connected-app-secret
TABLEAU_SECRET_ID=your-secret-id  # Optional: Secret ID for JWT 'kid' header (defaults to client_id if not provided)
TABLEAU_API_VERSION=3.21  # Tableau REST API version (e.g., "3.21", "3.27")
TABLEAU_VERIFY_SSL=true
# TABLEAU_SSL_CERT_PATH=./credentials/tableau-server-ca.pem  # Optional: Path to Tableau server's CA certificate
# TABLEAU_USERNAME=your-tableau-username  # Optional: Username for JWT 'sub' claim (defaults to client_id)

# Unified LLM Gateway Configuration
GATEWAY_ENABLED=true
GATEWAY_BASE_URL=http://gateway:8001
GATEWAY_PORT=8001

# AI Provider Credentials (Direct Passthrough)
OPENAI_API_KEY=your-openai-key
ANTHROPIC_API_KEY=your-anthropic-key

# Salesforce Models API (JWT OAuth)
SALESFORCE_CLIENT_ID=your-connected-app-client-id
SALESFORCE_PRIVATE_KEY_PATH=./credentials/salesforce-private-key.pem
SALESFORCE_USERNAME=your-service-account@company.com
SALESFORCE_MODELS_API_URL=https://api.salesforce.com/einstein/platform/v1

# Vertex AI (Service Account)
VERTEX_PROJECT_ID=your-gcp-project-id
VERTEX_LOCATION=us-central1
VERTEX_SERVICE_ACCOUNT_PATH=./credentials/vertex-sa.json

# Apple Endor (Private Endpoint)
APPLE_ENDOR_API_KEY=your-apple-key
APPLE_ENDOR_ENDPOINT=https://internal.apple.com/endor/v1

# Application
NEXT_PUBLIC_API_URL=http://localhost:8000
BACKEND_PORT=8000
FRONTEND_PORT=3000

# Security
# REQUIRED: Secret key for JWT token signing/verification. 
# Use a strong, random value in production. DO NOT configure via UI for security reasons.
SECRET_KEY=your-secret-key-change-in-production

# Auth0 Cookie Encryption Secret (for frontend)
# REQUIRED if using Auth0: Used to encrypt Auth0 session cookies
# Should be a strong, random 32+ character string
AUTH0_SECRET=your-auth0-cookie-secret-32-chars-min

# MCP Server
MCP_SERVER_NAME=tableau-analyst-agent
MCP_TRANSPORT=stdio
MCP_LOG_LEVEL=info

# Auth0 Configuration (MVP)
# Get these values from Auth0 dashboard after creating Application and API
AUTH0_DOMAIN=your-tenant.auth0.com
AUTH0_AUDIENCE=https://tableau-ai-demo-api
AUTH0_ISSUER=https://your-tenant.auth0.com/
BACKEND_API_URL=http://localhost:8000

# EAS JWT (OAuth 2.0 Trust): Auth0 cannot set aud/sub. When set, backend constructs the JWT.
# Tableau must register this backend as EAS (issuer=BACKEND_API_URL).
# Generate key: openssl genrsa -out backend/credentials/eas_jwt_key.pem 2048
#EAS_JWT_KEY_PATH=backend/credentials/eas_jwt_key.pem
#EAS_JWT_AUD=tableau

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000
